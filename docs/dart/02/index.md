# 演算子

演算子は、Javaとあまり違いはありません。

## 四則演算

基本的な四則演算は、次の演算子を使用します。Javaと違うのは割り算のみです。

| 演算子 | 意味 |
|-|-|
| `+` | 足し算 |
| `-` | 引き算 |
| `*` | 掛け算 |
| `/` | 割り算（小数まで計算） |
| `~/` | 割り算（商の計算） |
| `%` | 割った余り |
| `++var` | 1加算 |
| `var++` | 1加算 |
| `--var` | 1減算 |
| `var--` | 1減算 |

Javaの場合には`5 / 2`は商の計算で`2`となりますが、Dartは`2.5`になります。Dartで商の計算は表の通り`~/`を使います。

``` dart linenums="1"
void main() {
  print('5 + 2 = ${5 + 2}');
  print('5 - 2 = ${5 - 2}');
  print('-(5 - 2) = ${-(5 - 2)}');
  print('5 * 2 = ${5 * 2}');
  print('5 / 2 = ${5 / 2}');
  print('5 ~/ 2 = ${5 ~/ 2}');
  print('5 % 2 = ${5 % 2}');
}
```

実行結果は次のとおりです。

```
> dart test.dart
5 + 2 = 7
5 - 2 = 3
-(5 - 2) = -3
5 * 2 = 10
5 / 2 = 2.5
5 ~/ 2 = 2
5 % 2 = 1
```

## 関係演算子

関係演算子はJavaと変わりません。

| 演算子 | 意味 |
|-|-|
| `==` | 左辺と右辺が等しい場合`true` |
| `!=` | 左辺と右辺が等しくない場合`true` |
| `>` | 左辺が右辺より大きい場合`true`（同じ場合`false`） |
| `<` | 左辺が右辺より小さい場合`true`（同じ場合`false`） |
| `<=` | 左辺が右辺以上の場合`true` |
| `>=` | 左辺が右辺以下の場合`true` |

## 型テスト演算子

| 演算子 | 意味 |
|-|-|
| `as` | キャスト |
| `is` | 左辺と右辺の型が同じ場合`true` |
| `is!` | 左辺と右辺の型が違う場合`true` |

`is`は型のチェックに使います。

``` dart linenums="1"
void main() {
  var a = 3;
  var b = true;

  print('a is int = ${a is int}');
  print('b is int = ${b is int}');
  print('b is! int = ${b is! int}');
}
```

## 代入演算子

`+=`等もJavaと同様です。

| 演算子 | 意味 |
|-|-|
| `=` | 通常の代入 |
| `+=`、`-=`、`*=`、`/=`、`~/=`、`%=`、`>>=`、`<<=`、`^=`、`&=`、`|=` | `a op= b`は`a = a op b` |

## 論理演算子

論理演算子もJavaと同じです。

| 演算子 | 意味 |
|-|-|
| `!` | 結果の反転。`true`を`false`に、`false`を`true`に |
| `||` | OR |
| `&&` | AND |

## ビット演算とシフト演算子

| 演算子 | 意味 |
|-|-|
| `&` |  AND |
| `|` | OR |
| `^` | XOR |
| `~` | ビット単位の補数 |
| `<<` | 左シフト |
| `>>` | 右シフト |

## 条件演算子

条件演算子は2種類あります。よく使う演算子になります。

```
条件 ? 式1 : 式2
```

これは、条件が`true`のとき式1を返し、`false`のとき式2が返されます。

もう一つは次のような形です。

```
式1 ?? 式2
```

これは式1が`null`でなければ式1を返し、`null`の場合は式2を返します。

### やってみよう1

次のプログラムを動かして`??`の動作を確認してみましょう。

``` dart linenumes="1"
void main() async {
  int? a = null;
  int b = a ?? 3 + 1;
  print(b);
}
```

## その他

カスケード記法というものがありますが、これは他の章で解説します。
